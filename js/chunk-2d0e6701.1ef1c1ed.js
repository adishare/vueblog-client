(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6701"],{"996a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.thread.upVotes&&t.thread.downVotes?a("div",{staticClass:"col px-0 cardarticle"},[a("div",{staticClass:"card"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"text-center bg-secondary py-3 justify-content-between d-flex  text-light",staticStyle:{width:"80px","flex-direction":"column"}},[a("span",{staticClass:"text-center list-item"},[a("h5",[t._v(t._s(t.thread.upVotes.length-t.thread.downVotes.length))]),t._v("\n                    votes\n                ")]),a("span",{staticClass:"text-center"},[a("h5",[t._v(t._s(t.thread.answers.length))]),t._v("\n                    answer\n                ")]),a("span",{staticClass:"text-center"},[a("h5",[t._v(t._s(t.thread.viewCount))]),t._v("\n                    views\n                ")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"card-block"},[a("div",{staticClass:"card-header"},[t.editMode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.editThreadModel.title,expression:"editThreadModel.title"}],staticClass:"form-control",attrs:{type:"text",maxlength:"150",id:"editThreadTitle",placeholder:"Thread Title",required:"1"},domProps:{value:t.editThreadModel.title},on:{input:function(e){e.target.composing||t.$set(t.editThreadModel,"title",e.target.value)}}}):t._e(),t.editMode?t._e():a("h4",[t._v(t._s(t.thread.title))]),a("span",t._l(t.thread.categories,function(e,s){return a("span",{key:s,staticClass:"badge badge-warning mx-1"},[t._v(t._s(e))])}))]),a("div",{staticClass:"card-body"},[t.editMode?t._e():a("span",["threadDetail"==t.$route.name?a("div",{domProps:{innerHTML:t._s(t.thread.content)}}):t._e()]),t.editMode?a("vue-editor",{attrs:{id:"editThreadContent"},model:{value:t.editThreadModel.content,callback:function(e){t.$set(t.editThreadModel,"content",e)},expression:"editThreadModel.content"}}):t._e(),t.editMode?a("span",{staticClass:"text-centered row pull-right p-3 mx-auto"},[a("button",{staticClass:"btn btn-secondary m-3",attrs:{type:"button"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-warning m-3",attrs:{type:"button"},on:{click:t.updateThread}},[t._v("Update")])]):t._e()],1),a("div",{staticClass:"card-footer"},[a("small",{staticClass:"pull-right"},[a("b",[t._v(t._s(t.thread.author.name))])]),a("br"),a("small",{staticClass:"pull-right"},[a("i",[t._v(t._s(t.thread.createdAt))])]),a("br")])])])]),t.$route.params.id===t.thread._id?a("div",{staticClass:"card-footer"},[a("div",{staticClass:" d-flex justify-content-between p-2 px-5"},[t.user&&t.thread.author._id!=t.user._id?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.upvote()}}},[t.user&&-1!=t.thread.upVotes.indexOf(t.user._id)?a("i",{staticClass:"fa fa-thumbs-up fa-lg"}):a("i",{staticClass:"fa fa-thumbs-o-up fa-lg",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.thread.upVotes.length))])]):t._e(),t.user&&t.thread.author._id!=t.user._id?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.downvote()}}},[t.user&&-1!=t.thread.downVotes.indexOf(t.user._id)?a("i",{staticClass:"fa fa-thumbs-down fa-lg"}):a("i",{staticClass:"fa fa-thumbs-o-down fa-lg",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.thread.downVotes.length))])]):t._e(),a("span",[a("i",{staticClass:"fa fa-comments fa-lg"}),a("span",{staticClass:"badge badge-pill badge-warning"},[t._v(t._s(t.thread.answers.length))])]),a("span",[a("i",{staticClass:"fa fa-eye fa-lg"}),a("span",{staticClass:"badge badge-pill badge-success"},[t._v(t._s(t.thread.viewCount))])]),t.user&&t.thread.author._id==t.user._id?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.editThread()}}},[a("i",{staticClass:"fa fa-pencil-square fa-lg"})]):t._e(),t.user&&t.thread.author._id==t.user._id?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.deleteThread()}}},[a("i",{staticClass:"fa fa-remove fa-lg"})]):t._e()])]):t._e(),a("div",{staticClass:"card-footer bg-light"},[a("AnswerBar",{attrs:{user:t.user,thread:t.thread,logNotification:t.logNotification}})],1)])]):t._e()])},i=[],d=a("be94"),n=a("2f62"),o=a("b3e9"),r={props:["user","thread","logNotification"],components:{AnswerBar:function(){return a.e("chunk-467b0d58").then(a.bind(null,"a010"))},VueEditor:o["VueEditor"]},data:function(){return{editMode:!1,editThreadModel:{title:this.thread.title,content:this.thread.content}}},computed:{},created:function(){},methods:Object(d["a"])({},Object(n["b"])(["fetchThread","fetchThreads"]),{upvote:function(){var t=this;this.$server.post("/threads/upvotes/".concat(this.thread._id),{},{headers:{token:localStorage.getItem("token")}}).then(function(e){t.logNotification(e.data.message,"info",3e3),t.fetchThread(t.thread._id)}).catch(function(e){t.logNotification(e.response.data.message,"danger",3e3)})},downvote:function(){var t=this;this.$server.post("/threads/downvotes/".concat(this.thread._id),{},{headers:{token:localStorage.getItem("token")}}).then(function(e){t.logNotification(e.data.message,"info",3e3),t.fetchThread(t.thread._id)}).catch(function(e){t.logNotification(e.response.data.message,"danger",3e3)})},editThread:function(){this.editMode=!0,this.editThreadModel={title:this.thread.title,content:this.thread.content}},updateThread:function(){var t=this;this.$server.put("/threads/".concat(this.thread._id),this.editThreadModel,{headers:{token:localStorage.getItem("token")}}).then(function(e){t.logNotification(e.data.message,"info",3e3),t.fetchThreads(),t.fetchThread(t.thread._id),t.editMode=!1}).catch(function(e){t.logNotification(e.response.data.message,"danger",3e3)})},deleteThread:function(){var t=this;this.$server.delete("/threads/".concat(this.thread._id),{headers:{token:localStorage.getItem("token")}}).then(function(){t.logNotification("Thread Deleted","info",3e3),t.fetchThreads(),t.$router.push("/threads")}).catch(function(e){t.logNotification(e.response.data.message,"danger",3e3)})}})},c=r,l=a("2877"),h=Object(l["a"])(c,s,i,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0e6701.1ef1c1ed.js.map