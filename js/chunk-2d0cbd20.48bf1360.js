(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cbd20"],{"4afc":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid p-5 bg-light"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col mx-auto",staticStyle:{"max-width":"890px"}},[i("form",[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newArticleModel.title,expression:"newArticleModel.title"}],staticClass:"form-control",attrs:{type:"text",maxlength:"50",id:"newArticleTitle",placeholder:"Article Title",required:"1"},domProps:{value:t.newArticleModel.title},on:{input:function(e){e.target.composing||t.$set(t.newArticleModel,"title",e.target.value)}}})]),i("div",{staticClass:"form-group"},[t.newArticleModel.content?i("div",{staticClass:"bg-light p-3 mb-2",domProps:{innerHTML:t._s(t.newArticleModel.content)}}):t._e(),i("vue-editor",{attrs:{id:"newArticleContent"},model:{value:t.newArticleModel.content,callback:function(e){t.$set(t.newArticleModel,"content",e)},expression:"newArticleModel.content"}})],1),i("div",{staticClass:"custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sendEmail,expression:"sendEmail"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"sendEmailcek",id:"sendEmailcek"},domProps:{checked:Array.isArray(t.sendEmail)?t._i(t.sendEmail,null)>-1:t.sendEmail},on:{change:function(e){var i=t.sendEmail,n=e.target,c=!!n.checked;if(Array.isArray(i)){var l=null,s=t._i(i,l);n.checked?s<0&&(t.sendEmail=i.concat([l])):s>-1&&(t.sendEmail=i.slice(0,s).concat(i.slice(s+1)))}else t.sendEmail=c}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"sendEmailcek"}},[t._v("Send Email Notification to Subscribers")])]),i("input",{staticClass:"btn btn-warning pull-right",attrs:{id:"newarticleBtn",type:"submit",value:"Create"},on:{click:function(e){return e.preventDefault(),t.submitArticle(e)}}}),i("button",{staticClass:"btn btn-success pull-right mx-2",on:{click:function(e){e.preventDefault(),t.$router.push("/articles")}}},[t._v("Back")])])])])])},c=[],l=i("b3e9"),s={props:["logNotification"],components:{VueEditor:l["VueEditor"]},data:function(){return{newArticleModel:{title:"",content:""},sendEmail:!1}},methods:{submitArticle:function(){var t=this;this.$server.post("/articles",this.newArticleModel,{headers:{token:localStorage.getItem("token")}}).then(function(e){t.sendEmail&&t.sendEmailToSubscribers(e.data),t.logNotification("Create Article Success, Title : ".concat(e.data.title),"success",4500),t.$router.push("/articles/".concat(e.data._id))}).catch(function(){t.logNotification("Error when Creating Article","danger")})},sendEmailToSubscribers:function(t){var e=this;this.$server.post("/subscribes/notify",{article:t,content:"<h5> ".concat(t.title," </h5> \n                    ").concat(t.content,"\n                    <br>\n                    visit ").concat(this.$clientBaseUrl,"/articles/").concat(t._id,"\n                ")}).then(function(){e.logNotification("Your Article shared to subscibers","success",5e3)}).catch(function(){e.logNotification("Sharing article failed","danger",4500)})}}},a=s,o=i("2877"),r=Object(o["a"])(a,n,c,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0cbd20.48bf1360.js.map