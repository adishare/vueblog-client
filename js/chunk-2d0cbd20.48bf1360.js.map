{"version":3,"sources":["webpack:///./src/views/CreateArticle.vue?bea9","webpack:///src/views/CreateArticle.vue","webpack:///./src/views/CreateArticle.vue?da1e","webpack:///./src/views/CreateArticle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","max-width","directives","name","rawName","value","newArticleModel","expression","attrs","type","maxlength","id","placeholder","required","domProps","on","input","$event","target","composing","$set","innerHTML","_s","content","_e","model","callback","$$v","checked","Array","isArray","sendEmail","_i","change","$$a","$$el","$$c","$$i","concat","slice","for","_v","click","preventDefault","submitArticle","$router","push","staticRenderFns","CreateArticlevue_type_script_lang_js_","props","components","VueEditor","vue2_editor","data","title","methods","_this","$server","post","headers","token","localStorage","getItem","then","result","sendEmailToSubscribers","logNotification","_id","catch","article","_this2","$clientBaseUrl","views_CreateArticlevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0cbd20.48bf1360.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid p-5 bg-light\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col mx-auto\",staticStyle:{\"max-width\":\"890px\"}},[_c('form',[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newArticleModel.title),expression:\"newArticleModel.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"maxlength\":\"50\",\"id\":\"newArticleTitle\",\"placeholder\":\"Article Title\",\"required\":\"1\"},domProps:{\"value\":(_vm.newArticleModel.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newArticleModel, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[(_vm.newArticleModel.content)?_c('div',{staticClass:\"bg-light p-3 mb-2\",domProps:{\"innerHTML\":_vm._s(_vm.newArticleModel.content)}}):_vm._e(),_c('vue-editor',{attrs:{\"id\":\"newArticleContent\"},model:{value:(_vm.newArticleModel.content),callback:function ($$v) {_vm.$set(_vm.newArticleModel, \"content\", $$v)},expression:\"newArticleModel.content\"}})],1),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendEmail),expression:\"sendEmail\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"name\":\"sendEmailcek\",\"id\":\"sendEmailcek\"},domProps:{\"checked\":Array.isArray(_vm.sendEmail)?_vm._i(_vm.sendEmail,null)>-1:(_vm.sendEmail)},on:{\"change\":function($event){var $$a=_vm.sendEmail,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sendEmail=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sendEmail=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sendEmail=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"sendEmailcek\"}},[_vm._v(\"Send Email Notification to Subscribers\")])]),_c('input',{staticClass:\"btn btn-warning pull-right\",attrs:{\"id\":\"newarticleBtn\",\"type\":\"submit\",\"value\":\"Create\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitArticle($event)}}}),_c('button',{staticClass:\"btn btn-success pull-right mx-2\",on:{\"click\":function($event){$event.preventDefault();_vm.$router.push('/articles')}}},[_vm._v(\"Back\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container-fluid p-5 bg-light\">\n        <div class=\"row\">\n            <div class=\"col mx-auto\" style=\"max-width: 890px;\">\n                <form>\n                    <div class=\"form-group\">\n                        <input type=\"text\" maxlength=\"50\" class=\"form-control\" v-model=\"newArticleModel.title\" id=\"newArticleTitle\" placeholder=\"Article Title\" required=1>\n                    </div>\n                    <div class=\"form-group\">\n                        <div v-if=\"newArticleModel.content\" v-html=\"newArticleModel.content\" class=\"bg-light p-3 mb-2\"></div>\n                        <vue-editor v-model=\"newArticleModel.content\" id=\"newArticleContent\"></vue-editor>\n                    </div>\n                    <div class=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" name=\"sendEmailcek\" id=\"sendEmailcek\" v-model=\"sendEmail\">\n                        <label class=\"custom-control-label\" for=\"sendEmailcek\">Send Email Notification to Subscribers</label>\n                    </div>\n                    <input @click.prevent=\"submitArticle\" id=\"newarticleBtn\" class=\"btn btn-warning pull-right\" type=\"submit\" value=\"Create\">\n                    <button @click.prevent=\"$router.push('/articles')\" class=\"btn btn-success pull-right mx-2\" >Back</button>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { VueEditor } from 'vue2-editor'\n\nexport default {\n    props: ['logNotification'],\n    components: {\n        VueEditor\n    },\n    data () {\n        return {\n            newArticleModel : {\n                title : '',\n                content : ''\n            },\n\n            sendEmail : false\n\n        }\n    },\n    methods: {\n        submitArticle() {\n            \n            this.$server.post('/articles', this.newArticleModel, {\n                headers : {\n                    token : localStorage.getItem('token')\n                }\n            })\n            .then((result) => {\n                if(this.sendEmail) {\n                    this.sendEmailToSubscribers(result.data)\n                }\n                this.logNotification(`Create Article Success, Title : ${result.data.title}`, 'success', 4500)\n                this.$router.push(`/articles/${result.data._id}`)\n            }).catch(() => {\n                this.logNotification('Error when Creating Article','danger')\n            });\n\n        },\n\n        sendEmailToSubscribers(article) {\n            this.$server.post('/subscribes/notify', {\n                article : article,\n                content : `<h5> ${article.title} </h5> \n                    ${article.content}\n                    <br>\n                    visit ${this.$clientBaseUrl}/articles/${article._id}\n                `\n            })\n            .then(() => {\n                this.logNotification(`Your Article shared to subscibers`, 'success', 5000)                \n            }).catch(() => {\n                this.logNotification(`Sharing article failed`, 'danger', 4500)                                \n            });\n        }\n    }\n\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateArticle.vue?vue&type=template&id=6983c7b5&\"\nimport script from \"./CreateArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}